<UserControl x:Class="Social_Sentry.Views.SafetyView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="32,24">
            
            <!-- Header -->
            <Grid Margin="0,0,0,32">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="0" 
                        Command="{Binding BackCommand}" 
                        Style="{StaticResource IconButtonStyle}"
                        Margin="0,0,16,0"
                        ToolTip="Back">
                    <TextBlock Text="â¬…" FontSize="20"/>
                </Button>
                
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="Safety" FontSize="28" FontWeight="Bold" Foreground="{StaticResource PrimaryTextBrush}"/>
                    <TextBlock Text="Digital Wellbeing &amp; Eye Protection" FontSize="14" Foreground="{StaticResource SecondaryTextBrush}"/>
                </StackPanel>
            </Grid>

            <!-- Main Toggle Card -->
            <Border Background="{StaticResource CardBackgroundBrush}" CornerRadius="12" Padding="24" Margin="0,0,0,24">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel Grid.Column="0" Margin="0,0,24,0">
                        <TextBlock Text="Auto Safety Break" FontSize="18" FontWeight="SemiBold" Foreground="{StaticResource PrimaryTextBrush}" Margin="0,0,0,8"/>
                        <TextBlock TextWrapping="Wrap" Foreground="{StaticResource SecondaryTextBrush}" FontSize="14" LineHeight="20">
                            Enforce a 30-second break after 50 minutes of continuous computer use. 
                            If you work continuously for 50 minutes, Social Sentry will block the screen to remind you to rest your eyes.
                        </TextBlock>
                    </StackPanel>
                    
                    <CheckBox Grid.Column="1" 
                              IsChecked="{Binding IsSafetyEnabled}"
                              Style="{StaticResource ToggleSwitchStyle}"
                              VerticalAlignment="Center"/>
                </Grid>
            </Border>

            <!-- Explanation Section -->
            <Border Background="{StaticResource CardBackgroundBrush}" CornerRadius="12" Padding="24">
                <StackPanel>
                    <TextBlock Text="How it works" FontSize="18" FontWeight="SemiBold" Foreground="{StaticResource PrimaryTextBrush}" Margin="0,0,0,16"/>
                    
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="â±ï¸ 50-Minute Monitoring" FontWeight="Bold" Foreground="{StaticResource AccentBrush}" Margin="0,0,0,4"/>
                        <TextBlock Text="The timer starts when you are active. If you stop using the computer for more than 5 minutes, the timer resets." 
                                   Foreground="{StaticResource SecondaryTextBrush}" TextWrapping="Wrap"/>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="ðŸ›‘ 30-Second Break" FontWeight="Bold" Foreground="#F44336" Margin="0,0,0,4"/>
                        <TextBlock Text="A full-screen overlay will appear. Use this time to look at something at least 20 feet away (like the sky or greenery) to relax your eye muscles." 
                                   Foreground="{StaticResource SecondaryTextBrush}" TextWrapping="Wrap"/>
                    </StackPanel>
                    
                    <TextBlock Text="This feature helps prevent Computer Vision Syndrome and maintains your long-term eye health." 
                               Foreground="{StaticResource SecondaryTextBrush}" 
                               FontStyle="Italic" 
                               Margin="0,8,0,0"/>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
